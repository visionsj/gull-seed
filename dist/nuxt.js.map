{"version":3,"file":"nuxt.js","sources":["../node_modules/regenerator-runtime/runtime.js","../node_modules/regenerator-runtime/runtime-module.js","../node_modules/babel-runtime/regenerator/index.js","../lib/common/utils.js","../lib/common/options.js","../lib/core/module.js","../lib/core/meta.js","../lib/core/renderer.js","../lib/core/nuxt.js","../lib/builder/webpack/base.config.js","../lib/builder/webpack/client.config.js","../lib/builder/webpack/server.config.js","../lib/builder/webpack/dll.config.js","../lib/builder/webpack/vue-loader.config.js","../lib/builder/webpack/style-loader.js","../lib/builder/builder.js","../lib/builder/generator.js","../lib/index.js"],"sourcesContent":["/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  var inModule = typeof module === \"object\";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we're in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don't bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we're in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  runtime.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration. If the Promise is rejected, however, the\n          // result for this iteration will be rejected with the same\n          // reason. Note that rejections of yielded Promises are not\n          // thrown back into the generator function, as is the case\n          // when an awaited Promise is rejected. This difference in\n          // behavior between yield and await is important, because it\n          // allows the consumer to decide what to do with the yielded\n          // rejection (swallow it and continue, manually .throw it back\n          // into the generator, abandon iteration, whatever). With\n          // await, by contrast, there is no opportunity to examine the\n          // rejection reason outside the generator function, so the\n          // only option is to throw it from the await expression, and\n          // let the generator function handle the exception.\n          result.value = unwrapped;\n          resolve(result);\n        }, reject);\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  runtime.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        if (delegate.iterator.return) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // In sloppy mode, unbound `this` refers to the global object, fallback to\n  // Function constructor if we're in global strict mode. That is sadly a form\n  // of indirect eval which violates Content Security Policy.\n  (function() { return this })() || Function(\"return this\")()\n);\n","// This method of obtaining a reference to the global object needs to be\n// kept identical to the way it is obtained in runtime.js\nvar g = (function() { return this })() || Function(\"return this\")();\n\n// Use `getOwnPropertyNames` because not all browsers support calling\n// `hasOwnProperty` on the global `self` object in a worker. See #183.\nvar hadRuntime = g.regeneratorRuntime &&\n  Object.getOwnPropertyNames(g).indexOf(\"regeneratorRuntime\") >= 0;\n\n// Save the old regeneratorRuntime in case it needs to be restored later.\nvar oldRuntime = hadRuntime && g.regeneratorRuntime;\n\n// Force reevalutation of runtime.js.\ng.regeneratorRuntime = undefined;\n\nmodule.exports = require(\"./runtime\");\n\nif (hadRuntime) {\n  // Restore the original runtime.\n  g.regeneratorRuntime = oldRuntime;\n} else {\n  // Remove the global property added by runtime.js.\n  try {\n    delete g.regeneratorRuntime;\n  } catch(e) {\n    g.regeneratorRuntime = undefined;\n  }\n}\n","module.exports = require(\"regenerator-runtime\");\n","import { resolve, relative, sep } from 'path'\nimport _ from 'lodash'\n\nexport function encodeHtml (str) {\n  return str.replace(/</g, '&lt;').replace(/>/g, '&gt;')\n}\n\nexport function getContext (req, res) {\n  return { req, res }\n}\n\nexport function setAnsiColors (ansiHTML) {\n  ansiHTML.setColors({\n    reset: ['efefef', 'a6004c'],\n    darkgrey: '5a012b',\n    yellow: 'ffab07',\n    green: 'aeefba',\n    magenta: 'ff84bf',\n    blue: '3505a0',\n    cyan: '56eaec',\n    red: '4e053a'\n  })\n}\n\nexport async function waitFor (ms) {\n  return new Promise(function (resolve) {\n    setTimeout(resolve, (ms || 0))\n  })\n}\n\nexport function urlJoin () {\n  return [].slice.call(arguments).join('/').replace(/\\/+/g, '/').replace(':/', '://')\n}\n\nexport function isUrl (url) {\n  return (url.indexOf('http') === 0 || url.indexOf('//') === 0)\n}\n\nexport function promisifyRoute (fn) {\n  // If routes is an array\n  if (Array.isArray(fn)) {\n    return Promise.resolve(fn)\n  }\n  // If routes is a function expecting a callback\n  if (fn.length === 1) {\n    return new Promise((resolve, reject) => {\n      fn(function (err, routeParams) {\n        if (err) {\n          reject(err)\n        }\n        resolve(routeParams)\n      })\n    })\n  }\n  let promise = fn()\n  if (!promise || (!(promise instanceof Promise) && (typeof promise.then !== 'function'))) {\n    promise = Promise.resolve(promise)\n  }\n  return promise\n}\n\nexport function sequence (tasks, fn) {\n  return tasks.reduce((promise, task) => promise.then(() => fn(task)), Promise.resolve())\n}\n\nexport function parallel (tasks, fn) {\n  return Promise.all(tasks.map(task => fn(task)))\n}\n\nexport function chainFn (base, fn) {\n  /* istanbul ignore if */\n  if (!(fn instanceof Function)) {\n    return\n  }\n  return function () {\n    if (typeof base !== 'function') {\n      return fn.apply(this, arguments)\n    }\n    let baseResult = base.apply(this, arguments)\n    // Allow function to mutate the first argument instead of returning the result\n    if (baseResult === undefined) {\n      baseResult = arguments[0]\n    }\n    let fnResult = fn.call(this, baseResult, ...Array.prototype.slice.call(arguments, 1))\n    // Return mutated argument if no result was returned\n    if (fnResult === undefined) {\n      return baseResult\n    }\n    return fnResult\n  }\n}\n\nexport function isPureObject (o) {\n  return !Array.isArray(o) && typeof o === 'object'\n}\n\nexport const isWindows = /^win/.test(process.platform)\n\nexport function wp (p = '') {\n  /* istanbul ignore if */\n  if (isWindows) {\n    return p.replace(/\\\\/g, '\\\\\\\\')\n  }\n  return p\n}\n\nexport function wChunk (p = '') {\n  /* istanbul ignore if */\n  if (isWindows) {\n    return p.replace(/\\//g, '\\\\\\\\')\n  }\n  return p\n}\n\nconst reqSep = /\\//g\nconst sysSep = _.escapeRegExp(sep)\nconst normalize = string => string.replace(reqSep, sysSep)\n\nexport function r () {\n  let args = Array.prototype.slice.apply(arguments)\n  let lastArg = _.last(args)\n\n  if (lastArg.includes('@') || lastArg.includes('~')) {\n    return wp(lastArg)\n  }\n\n  return wp(resolve(...args.map(normalize)))\n}\n\nexport function relativeTo () {\n  let args = Array.prototype.slice.apply(arguments)\n  let dir = args.shift()\n\n  // Resolve path\n  let path = r(...args)\n\n  // Check if path is an alias\n  if (path.includes('@') || path.includes('~')) {\n    return path\n  }\n\n  // Make correct relative path\n  let rp = relative(dir, path)\n  if (rp[0] !== '.') {\n    rp = './' + rp\n  }\n  return wp(rp)\n}\n\nexport function flatRoutes (router, path = '', routes = []) {\n  router.forEach((r) => {\n    if (!r.path.includes(':') && !r.path.includes('*')) {\n      /* istanbul ignore if */\n      if (r.children) {\n        flatRoutes(r.children, path + r.path + '/', routes)\n      } else {\n        routes.push((r.path === '' && path[path.length - 1] === '/' ? path.slice(0, -1) : path) + r.path)\n      }\n    }\n  })\n  return routes\n}\n\nexport function cleanChildrenRoutes (routes, isChild = false) {\n  let start = -1\n  let routesIndex = []\n  routes.forEach((route) => {\n    if (/-index$/.test(route.name) || route.name === 'index') {\n      // Save indexOf 'index' key in name\n      let res = route.name.split('-')\n      let s = res.indexOf('index')\n      start = (start === -1 || s < start) ? s : start\n      routesIndex.push(res)\n    }\n  })\n  routes.forEach((route) => {\n    route.path = (isChild) ? route.path.replace('/', '') : route.path\n    if (route.path.indexOf('?') > -1) {\n      let names = route.name.split('-')\n      let paths = route.path.split('/')\n      if (!isChild) {\n        paths.shift()\n      } // clean first / for parents\n      routesIndex.forEach((r) => {\n        let i = r.indexOf('index') - start //  children names\n        if (i < paths.length) {\n          for (let a = 0; a <= i; a++) {\n            if (a === i) {\n              paths[a] = paths[a].replace('?', '')\n            }\n            if (a < i && names[a] !== r[a]) {\n              break\n            }\n          }\n        }\n      })\n      route.path = (isChild ? '' : '/') + paths.join('/')\n    }\n    route.name = route.name.replace(/-index$/, '')\n    if (route.children) {\n      if (route.children.find((child) => child.path === '')) {\n        delete route.name\n      }\n      route.children = cleanChildrenRoutes(route.children, true)\n    }\n  })\n  return routes\n}\n\nexport function createRoutes (files, srcDir) {\n  let routes = []\n  files.forEach((file) => {\n    let keys = file.replace(/^pages/, '').replace(/\\.vue$/, '').replace(/\\/{2,}/g, '/').split('/').slice(1)\n    let route = { name: '', path: '', component: r(srcDir, file) }\n    let parent = routes\n    keys.forEach((key, i) => {\n      route.name = route.name ? route.name + '-' + key.replace('_', '') : key.replace('_', '')\n      route.name += (key === '_') ? 'all' : ''\n      route.chunkName = file.replace(/\\.vue$/, '')\n      let child = _.find(parent, { name: route.name })\n      if (child) {\n        child.children = child.children || []\n        parent = child.children\n        route.path = ''\n      } else {\n        if (key === 'index' && (i + 1) === keys.length) {\n          route.path += (i > 0 ? '' : '/')\n        } else {\n          route.path += '/' + (key === '_' ? '*' : key.replace('_', ':'))\n          if (key !== '_' && key.indexOf('_') !== -1) {\n            route.path += '?'\n          }\n        }\n      }\n    })\n    // Order Routes path\n    parent.push(route)\n    parent.sort((a, b) => {\n      if (!a.path.length || a.path === '/') {\n        return -1\n      }\n      if (!b.path.length || b.path === '/') {\n        return 1\n      }\n      let i = 0\n      let res = 0\n      let y = 0\n      let z = 0\n      const _a = a.path.split('/')\n      const _b = b.path.split('/')\n      for (i = 0; i < _a.length; i++) {\n        if (res !== 0) {\n          break\n        }\n        y = _a[i] === '*' ? 2 : (_a[i].indexOf(':') > -1 ? 1 : 0)\n        z = _b[i] === '*' ? 2 : (_b[i].indexOf(':') > -1 ? 1 : 0)\n        res = y - z\n        // If a.length >= b.length\n        if (i === _b.length - 1 && res === 0) {\n          // change order if * found\n          res = _a[i] === '*' ? -1 : 1\n        }\n      }\n      return res === 0 ? (_a[i - 1] === '*' && _b[i] ? 1 : -1) : res\n    })\n  })\n  return cleanChildrenRoutes(routes)\n}\n","import _ from 'lodash'\nimport { join, resolve } from 'path'\nimport { existsSync } from 'fs'\nimport { isUrl, isPureObject } from 'utils'\n\nconst Options = {}\n\nexport default Options\n\nOptions.from = function (_options) {\n  // Clone options to prevent unwanted side-effects\n  const options = Object.assign({}, _options)\n\n  // Normalize options\n  if (options.loading === true) {\n    delete options.loading\n  }\n  if (options.router && typeof options.router.middleware === 'string') {\n    options.router.middleware = [options.router.middleware]\n  }\n  if (options.router && typeof options.router.base === 'string') {\n    options._routerBaseSpecified = true\n  }\n  if (typeof options.transition === 'string') {\n    options.transition = { name: options.transition }\n  }\n\n  // Apply defaults\n  _.defaultsDeep(options, Options.defaults)\n\n  // Resolve dirs\n  const hasValue = v => typeof v === 'string' && v\n  options.rootDir = hasValue(options.rootDir) ? options.rootDir : process.cwd()\n  options.srcDir = hasValue(options.srcDir) ? resolve(options.rootDir, options.srcDir) : options.rootDir\n  options.modulesDir = resolve(options.rootDir, hasValue(options.modulesDir) ? options.modulesDir : 'node_modules')\n  options.buildDir = resolve(options.rootDir, options.buildDir)\n  options.cacheDir = resolve(options.rootDir, options.cacheDir)\n\n  // If app.html is defined, set the template path to the user template\n  options.appTemplatePath = resolve(options.buildDir, 'views/app.template.html')\n  if (existsSync(join(options.srcDir, 'app.html'))) {\n    options.appTemplatePath = join(options.srcDir, 'app.html')\n  }\n\n  // Ignore publicPath on dev\n  /* istanbul ignore if */\n  if (options.dev && isUrl(options.build.publicPath)) {\n    options.build.publicPath = Options.defaults.build.publicPath\n  }\n\n  // If store defined, update store options to true unless explicitly disabled\n  if (options.store !== false && existsSync(join(options.srcDir, 'store'))) {\n    options.store = true\n  }\n\n  // Normalize loadingIndicator\n  if (!isPureObject(options.loadingIndicator)) {\n    options.loadingIndicator = { name: options.loadingIndicator }\n  }\n\n  // Apply defaults to loadingIndicator\n  options.loadingIndicator = Object.assign({\n    name: 'pulse',\n    color: '#dbe1ec',\n    background: 'white'\n  }, options.loadingIndicator)\n\n  // cssSourceMap\n  if (options.build.cssSourceMap === undefined) {\n    options.build.cssSourceMap = options.dev\n  }\n\n  // Postcss\n  // 1. Check if it is explicitly disabled by false value\n  // ... Disable all postcss loaders\n  // 2. Check if any standard source of postcss config exists\n  // ... Make postcss = true letting loaders find this kind of config\n  // 3. Else (Easy Usage)\n  // ... Auto merge it with defaults\n  if (options.build.postcss !== false) {\n    // Detect postcss config existence\n    // https://github.com/michael-ciniawsky/postcss-load-config\n    let postcssConfigExists = false\n    for (let dir of [options.srcDir, options.rootDir]) {\n      for (let file of ['postcss.config.js', '.postcssrc.js', '.postcssrc', '.postcssrc.json', '.postcssrc.yaml']) {\n        if (existsSync(resolve(dir, file))) {\n          postcssConfigExists = true\n          break\n        }\n      }\n      if (postcssConfigExists) break\n    }\n\n    // Default postcss options\n    if (postcssConfigExists) {\n      options.build.postcss = true\n    }\n\n    // Normalize & Apply default plugins\n    if (Array.isArray(options.build.postcss)) {\n      options.build.postcss = { plugins: options.build.postcss }\n    }\n    if (isPureObject(options.build.postcss)) {\n      options.build.postcss = Object.assign({\n        sourceMap: options.build.cssSourceMap,\n        plugins: {\n          // https://github.com/postcss/postcss-import\n          'postcss-import': {\n            root: options.rootDir,\n            path: [\n              options.srcDir,\n              options.rootDir,\n              options.modulesDir\n            ]\n          },\n          // https://github.com/postcss/postcss-url\n          'postcss-url': {},\n          // http://cssnext.io/postcss\n          'postcss-cssnext': {}\n        }\n      }, options.build.postcss)\n    }\n  }\n\n  // Debug errors\n  if (options.debug === undefined) {\n    options.debug = options.dev\n  }\n\n  // Apply mode preset\n  let modePreset = Options.modes[options.mode || 'universal'] || Options.modes['universal']\n  _.defaultsDeep(options, modePreset)\n\n  // If no server-side rendering, add appear true transition\n  if (options.render.ssr === false) {\n    options.transition.appear = true\n  }\n\n  return options\n}\n\nOptions.modes = {\n  universal: {\n    build: {\n      ssr: true\n    },\n    render: {\n      ssr: true\n    }\n  },\n  spa: {\n    build: {\n      ssr: false\n    },\n    render: {\n      ssr: false\n    }\n  }\n}\n\nOptions.defaults = {\n  mode: 'universal',\n  dev: process.env.NODE_ENV !== 'production',\n  debug: undefined, // Will be equal to dev if not provided\n  buildDir: '.nuxt',\n  cacheDir: '.cache',\n  nuxtAppDir: resolve(__dirname, '../lib/app/'), // Relative to dist\n  build: {\n    analyze: false,\n    dll: false,\n    extractCSS: false,\n    cssSourceMap: undefined,\n    ssr: undefined,\n    publicPath: '/_nuxt/',\n    filenames: {\n      css: 'common.[contenthash].css',\n      manifest: 'manifest.[hash].js',\n      vendor: 'common.[chunkhash].js',\n      app: 'app.[chunkhash].js',\n      chunk: '[name].[chunkhash].js'\n    },\n    vendor: [],\n    plugins: [],\n    babel: {},\n    postcss: {},\n    templates: [],\n    watch: [],\n    devMiddleware: {},\n    hotMiddleware: {}\n  },\n  generate: {\n    dir: 'dist',\n    routes: [],\n    concurrency: 500,\n    interval: 0,\n    minify: {\n      collapseBooleanAttributes: true,\n      collapseWhitespace: true,\n      decodeEntities: true,\n      minifyCSS: true,\n      minifyJS: true,\n      processConditionalComments: true,\n      removeAttributeQuotes: false,\n      removeComments: false,\n      removeEmptyAttributes: true,\n      removeOptionalTags: true,\n      removeRedundantAttributes: true,\n      removeScriptTypeAttributes: false,\n      removeStyleLinkTypeAttributes: false,\n      removeTagWhitespace: false,\n      sortAttributes: true,\n      sortClassName: false,\n      trimCustomFragments: true,\n      useShortDoctype: true\n    }\n  },\n  env: {},\n  head: {\n    meta: [],\n    link: [],\n    style: [],\n    script: []\n  },\n  plugins: [],\n  css: [],\n  modules: [],\n  layouts: {},\n  serverMiddleware: [],\n  ErrorPage: null,\n  loading: {\n    color: 'black',\n    failedColor: 'red',\n    height: '2px',\n    duration: 5000,\n    rtl: false\n  },\n  loadingIndicator: {},\n  transition: {\n    name: 'page',\n    mode: 'out-in',\n    appear: false,\n    appearClass: 'appear',\n    appearActiveClass: 'appear-active',\n    appearToClass: 'appear-to'\n  },\n  router: {\n    mode: 'history',\n    base: '/',\n    routes: [],\n    middleware: [],\n    linkActiveClass: 'nuxt-link-active',\n    linkExactActiveClass: 'nuxt-link-exact-active',\n    extendRoutes: null,\n    scrollBehavior: null,\n    fallback: false\n  },\n  render: {\n    bundleRenderer: {},\n    resourceHints: true,\n    ssr: undefined,\n    http2: {\n      push: false\n    },\n    static: {},\n    gzip: {\n      threshold: 0\n    },\n    etag: {\n      weak: true // Faster for responses > 5KB\n    }\n  },\n  watchers: {\n    webpack: {\n      ignored: /-dll/\n    },\n    chokidar: {}\n  },\n  messages: {\n    error_404: 'This page could not be found',\n    server_error: 'Server error',\n    nuxtjs: 'Nuxt.js',\n    back_to_home: 'Back to the home page',\n    server_error_details: 'An error occurred in the application and your page could not be served. If you are the application owner, check your logs for details.',\n    client_error: 'Error',\n    client_error_details: 'An error occurred while rendering the page. Check developer tools console for details.'\n  }\n}\n","import path from 'path'\nimport fs from 'fs'\nimport { uniq } from 'lodash'\nimport hash from 'hash-sum'\nimport Tapable from 'tappable'\nimport { chainFn, sequence } from 'utils'\nimport Debug from 'debug'\n\nconst debug = Debug('nuxt:module')\n\nexport default class ModuleContainer extends Tapable {\n  constructor (nuxt) {\n    super()\n    this.nuxt = nuxt\n    this.options = nuxt.options\n    this.requiredModules = []\n  }\n\n  async _ready () {\n    await sequence(this.options.modules, this.addModule.bind(this))\n    await this.applyPluginsAsync('ready', this)\n  }\n\n  addVendor (vendor) {\n    /* istanbul ignore if */\n    if (!vendor) {\n      return\n    }\n    this.options.build.vendor = uniq(this.options.build.vendor.concat(vendor))\n  }\n\n  addTemplate (template) {\n    /* istanbul ignore if */\n    if (!template) {\n      return\n    }\n    // Validate & parse source\n    const src = template.src || template\n    const srcPath = path.parse(src)\n    /* istanbul ignore if */\n    if (!src || typeof src !== 'string' || !fs.existsSync(src)) {\n      /* istanbul ignore next */\n      debug('[nuxt] invalid template', template)\n      return\n    }\n    // Generate unique and human readable dst filename\n    const dst = template.fileName ||\n      (path.basename(srcPath.dir) + '.' + srcPath.name + '.' + hash(src) + srcPath.ext)\n    // Add to templates list\n    const templateObj = {\n      src,\n      dst,\n      options: template.options\n    }\n    this.options.build.templates.push(templateObj)\n    return templateObj\n  }\n\n  addPlugin (template) {\n    const { dst } = this.addTemplate(template)\n    // Add to nuxt plugins\n    this.options.plugins.unshift({\n      src: path.join(this.options.buildDir, dst),\n      ssr: template.ssr\n    })\n  }\n\n  addServerMiddleware (middleware) {\n    this.options.serverMiddleware.push(middleware)\n  }\n\n  extendBuild (fn) {\n    this.options.build.extend = chainFn(this.options.build.extend, fn)\n  }\n\n  extendRoutes (fn) {\n    this.options.router.extendRoutes = chainFn(this.options.router.extendRoutes, fn)\n  }\n\n  requireModule (moduleOpts) {\n    // Require once\n    return this.addModule(moduleOpts, true)\n  }\n\n  async addModule (moduleOpts, requireOnce) {\n    /* istanbul ignore if */\n    if (!moduleOpts) {\n      return\n    }\n\n    await this.applyPluginsAsync('add', {moduleOpts, requireOnce})\n\n    // Allow using babel style array options\n    if (Array.isArray(moduleOpts)) {\n      moduleOpts = {\n        src: moduleOpts[0],\n        options: moduleOpts[1]\n      }\n    }\n\n    // Allows passing runtime options to each module\n    const options = moduleOpts.options || (typeof moduleOpts === 'object' ? moduleOpts : {})\n    const originalSrc = moduleOpts.src || moduleOpts\n\n    // Resolve module\n    let module = originalSrc\n    if (typeof module === 'string') {\n      module = require(this.nuxt.resolvePath(module))\n    }\n\n    // Validate module\n    /* istanbul ignore if */\n    if (typeof module !== 'function') {\n      throw new Error(`[nuxt] Module ${JSON.stringify(originalSrc)} should export a function`)\n    }\n\n    // Module meta\n    if (!module.meta) {\n      module.meta = {}\n    }\n    if (module.meta.name) {\n      const alreadyRequired = this.requiredModules.indexOf(module.meta.name) !== -1\n      if (requireOnce && alreadyRequired) {\n        return\n      }\n      if (!alreadyRequired) {\n        this.requiredModules.push(module.meta.name)\n      }\n    }\n\n    // Call module with `this` context and pass options\n    return new Promise((resolve, reject) => {\n      const result = module.call(this, options, err => {\n        /* istanbul ignore if */\n        if (err) {\n          return reject(err)\n        }\n        resolve(module)\n      })\n      // If module send back a promise\n      if (result && result.then instanceof Function) {\n        return result.then(resolve)\n      }\n      // If not expecting a callback but returns no promise (=synchronous)\n      if (module.length < 2) {\n        return resolve(module)\n      }\n    })\n  }\n}\n","\nimport Vue from 'vue'\nimport VueMeta from 'vue-meta'\nimport VueServerRenderer from 'vue-server-renderer'\nimport LRU from 'lru-cache'\n\nexport default class MetaRenderer {\n  constructor (nuxt, renderer) {\n    this.nuxt = nuxt\n    this.renderer = renderer\n    this.options = nuxt.options\n    this.vueRenderer = VueServerRenderer.createRenderer()\n    this.cache = LRU({})\n\n    // Add VueMeta to Vue (this is only for SPA mode)\n    // See lib/app/index.js\n    Vue.use(VueMeta, {\n      keyName: 'head',\n      attribute: 'data-n-head',\n      ssrAttribute: 'data-n-head-ssr',\n      tagIDKeyName: 'hid'\n    })\n  }\n\n  getMeta (url) {\n    return new Promise((resolve, reject) => {\n      const vm = new Vue({\n        render: (h) => h(), // Render empty html tag\n        head: this.options.head || {}\n      })\n      this.vueRenderer.renderToString(vm, (err) => {\n        if (err) return reject(err)\n        resolve(vm.$meta().inject())\n      })\n    })\n  }\n\n  async render ({ url = '/' }) {\n    let meta = this.cache.get(url)\n\n    if (meta) {\n      return meta\n    }\n\n    meta = {\n      HTML_ATTRS: '',\n      BODY_ATTRS: '',\n      HEAD: ''\n    }\n    // Get vue-meta context\n    const m = await this.getMeta(url)\n    // HTML_ATTRS\n    meta.HTML_ATTRS = m.htmlAttrs.text()\n    // BODY_ATTRS\n    meta.BODY_ATTRS = m.bodyAttrs.text()\n    // HEAD tags\n    meta.HEAD = m.meta.text() + m.title.text() + m.link.text() + m.style.text() + m.script.text() + m.noscript.text()\n    // Resources Hints\n    meta.resourceHints = ''\n    // Resource Hints\n    const clientManifest = this.renderer.resources.clientManifest\n    if (this.options.render.resourceHints && clientManifest) {\n      const publicPath = clientManifest.publicPath || '/_nuxt/'\n      // Pre-Load initial resources\n      if (Array.isArray(clientManifest.initial)) {\n        meta.resourceHints += clientManifest.initial.map(r => `<link rel=\"preload\" href=\"${publicPath}${r}\" as=\"script\" />`).join('')\n      }\n      // Pre-Fetch async resources\n      if (Array.isArray(clientManifest.async)) {\n        meta.resourceHints += clientManifest.async.map(r => `<link rel=\"prefetch\" href=\"${publicPath}${r}\" />`).join('')\n      }\n      // Add them to HEAD\n      if (meta.resourceHints) {\n        meta.HEAD += meta.resourceHints\n      }\n    }\n\n    // Set meta tags inside cache\n    this.cache.set(url, meta)\n\n    return meta\n  }\n}\n","import ansiHTML from 'ansi-html'\nimport serialize from 'serialize-javascript'\nimport generateETag from 'etag'\nimport fresh from 'fresh'\nimport Tapable from 'tappable'\nimport pify from 'pify'\nimport serveStatic from 'serve-static'\nimport compression from 'compression'\nimport _ from 'lodash'\nimport { join, resolve } from 'path'\nimport fs from 'fs-extra'\nimport { createBundleRenderer } from 'vue-server-renderer'\nimport { getContext, setAnsiColors, isUrl } from 'utils'\nimport Debug from 'debug'\nimport Youch from '@nuxtjs/youch'\nimport { SourceMapConsumer } from 'source-map'\nimport connect from 'connect'\nimport { Options } from 'common'\nimport MetaRenderer from './meta'\n\nconst debug = Debug('nuxt:render')\ndebug.color = 4 // Force blue color\n\nsetAnsiColors(ansiHTML)\n\nlet jsdom = null\n\nexport default class Renderer extends Tapable {\n  constructor (nuxt) {\n    super()\n    this.nuxt = nuxt\n    this.options = nuxt.options\n\n    // Will be set by createRenderer\n    this.bundleRenderer = null\n    this.metaRenderer = null\n\n    // Will be available on dev\n    this.webpackDevMiddleware = null\n    this.webpackHotMiddleware = null\n\n    // Create new connect instance\n    this.app = connect()\n\n    // Renderer runtime resources\n    this.resources = {\n      clientManifest: null,\n      serverBundle: null,\n      ssrTemplate: null,\n      spaTemplate: null,\n      errorTemplate: parseTemplate('Nuxt.js Internal Server Error')\n    }\n  }\n\n  async _ready () {\n    await this.nuxt.applyPluginsAsync('renderer', this)\n\n    // Setup nuxt middleware\n    await this.setupMiddleware()\n\n    // Load SSR resources from fs\n    if (!this.options.dev) {\n      await this.loadResources()\n    }\n\n    // Call ready plugin\n    await this.applyPluginsAsync('ready', this)\n  }\n\n  async loadResources (_fs = fs) {\n    let distPath = resolve(this.options.buildDir, 'dist')\n    let updated = []\n\n    resourceMap.forEach(({ key, fileName, transform }) => {\n      let rawKey = '$$' + key\n      const path = join(distPath, fileName)\n\n      let rawData, data\n      if (!_fs.existsSync(path)) {\n        return // Resource not exists\n      }\n      rawData = _fs.readFileSync(path, 'utf8')\n      if (!rawData || rawData === this.resources[rawKey]) {\n        return // No changes\n      }\n      this.resources[rawKey] = rawData\n      data = transform(rawData)\n      /* istanbul ignore if */\n      if (!data) {\n        return // Invalid data ?\n      }\n      this.resources[key] = data\n      updated.push(key)\n    })\n\n    // Reload error template\n    const errorTemplatePath = resolve(this.options.buildDir, 'views/error.html')\n    if (fs.existsSync(errorTemplatePath)) {\n      this.resources.errorTemplate = parseTemplate(fs.readFileSync(errorTemplatePath, 'utf8'))\n    }\n\n    // Load loading template\n    const loadingHTMLPath = resolve(this.options.buildDir, 'loading.html')\n    if (fs.existsSync(loadingHTMLPath)) {\n      this.resources.loadingHTML = fs.readFileSync(loadingHTMLPath, 'utf8')\n      this.resources.loadingHTML = this.resources.loadingHTML.replace(/[\\r|\\n]/g, '')\n    } else {\n      this.resources.loadingHTML = ''\n    }\n\n    // Call resourcesLoaded plugin\n    await this.applyPluginsAsync('resourcesLoaded', this.resources)\n\n    if (updated.length > 0) {\n      // debug('Updated', updated.join(', '), isServer)\n      this.createRenderer()\n    }\n  }\n\n  get noSSR () {\n    return this.options.render.ssr === false\n  }\n\n  get isReady () {\n    if (this.noSSR) {\n      return Boolean(this.resources.spaTemplate)\n    }\n\n    return Boolean(this.bundleRenderer && this.resources.ssrTemplate)\n  }\n\n  get isResourcesAvailable () {\n    // Required for both\n    if (!this.resources.clientManifest) {\n      return false\n    }\n\n    // Required for SPA rendering\n    if (this.noSSR) {\n      return Boolean(this.resources.spaTemplate)\n    }\n\n    // Required for bundle renderer\n    return Boolean(this.resources.ssrTemplate && this.resources.serverBundle)\n  }\n\n  createRenderer () {\n    // Ensure resources are available\n    if (!this.isResourcesAvailable) {\n      return\n    }\n\n    // Create Meta Renderer\n    this.metaRenderer = new MetaRenderer(this.nuxt, this)\n\n    // Show Open URL\n    this.nuxt.showOpen()\n\n    // Skip following steps if noSSR mode\n    if (this.noSSR) {\n      return\n    }\n\n    // Create bundle renderer for SSR\n    this.bundleRenderer = createBundleRenderer(this.resources.serverBundle, Object.assign({\n      clientManifest: this.resources.clientManifest,\n      runInNewContext: false,\n      basedir: this.options.rootDir\n    }, this.options.render.bundleRenderer))\n\n    // Promisify renderToString\n    this.bundleRenderer.renderToString = pify(this.bundleRenderer.renderToString)\n  }\n\n  useMiddleware (m) {\n    // Resolve\n    const $m = m\n    let src\n    if (typeof m === 'string') {\n      src = this.nuxt.resolvePath(m)\n      m = require(src)\n    }\n    if (typeof m.handler === 'string') {\n      src = this.nuxt.resolvePath(m.handler)\n      m.handler = require(src)\n    }\n\n    const handler = m.handler || m\n    const path = (((m.prefix !== false) ? this.options.router.base : '') + (m.path ? m.path : '')).replace(/\\/\\//g, '/')\n\n    // Inject $src and $m to final handler\n    if (src) handler.$src = src\n    handler.$m = $m\n\n    // Use middleware\n    this.app.use(path, handler)\n  }\n\n  get publicPath () {\n    return isUrl(this.options.build.publicPath) ? Options.defaults.build.publicPath : this.options.build.publicPath\n  }\n\n  async setupMiddleware () {\n    // Apply setupMiddleware from modules first\n    await this.applyPluginsAsync('setupMiddleware', this.app)\n\n    // Gzip middleware for production\n    if (!this.options.dev && this.options.render.gzip) {\n      this.useMiddleware(compression(this.options.render.gzip))\n    }\n\n    // Common URL checks\n    this.useMiddleware((req, res, next) => {\n      // Prevent access to SSR resources\n      if (ssrResourceRegex.test(req.url)) {\n        res.statusCode = 404\n        return res.end()\n      }\n      next()\n    })\n\n    // Add webpack middleware only for development\n    if (this.options.dev) {\n      this.useMiddleware(async (req, res, next) => {\n        if (this.webpackDevMiddleware) {\n          await this.webpackDevMiddleware(req, res)\n        }\n        if (this.webpackHotMiddleware) {\n          await this.webpackHotMiddleware(req, res)\n        }\n        next()\n      })\n    }\n\n    // For serving static/ files to /\n    this.useMiddleware(serveStatic(resolve(this.options.srcDir, 'static'), this.options.render.static))\n\n    // Serve .nuxt/dist/ files only for production\n    // For dev they will be served with devMiddleware\n    if (!this.options.dev) {\n      const distDir = resolve(this.options.buildDir, 'dist')\n      this.useMiddleware({\n        path: this.publicPath,\n        handler: serveStatic(distDir, {\n          index: false, // Don't serve index.html template\n          maxAge: (this.options.dev ? 0 : '1y') // 1 year in production\n        })\n      })\n    }\n\n    // Add User provided middleware\n    this.options.serverMiddleware.forEach(m => {\n      this.useMiddleware(m)\n    })\n\n    // Finally use nuxtMiddleware\n    this.useMiddleware(this.nuxtMiddleware.bind(this))\n\n    // Error middleware for errors that occurred in middleware that declared above\n    // Middleware should exactly take 4 arguments\n    // https://github.com/senchalabs/connect#error-middleware\n    this.useMiddleware(this.errorMiddleware.bind(this))\n  }\n\n  async nuxtMiddleware (req, res, next) {\n    // Get context\n    const context = getContext(req, res)\n    res.statusCode = 200\n    try {\n      const { html, error, redirected, resourceHints } = await this.renderRoute(req.url, context)\n      if (redirected) {\n        return html\n      }\n      if (error) {\n        res.statusCode = context.nuxt.error.statusCode || 500\n      }\n\n      // Add ETag header\n      if (!error && this.options.render.etag) {\n        const etag = generateETag(html, this.options.render.etag)\n        if (fresh(req.headers, { etag })) {\n          res.statusCode = 304\n          res.end()\n          return\n        }\n        res.setHeader('ETag', etag)\n      }\n\n      // HTTP2 push headers\n      if (!error && this.options.render.http2.push) {\n        // Parse resourceHints to extract HTTP.2 prefetch/push headers\n        // https://w3c.github.io/preload/#server-push-http-2\n        const regex = /link rel=\"([^\"]*)\" href=\"([^\"]*)\" as=\"([^\"]*)\"/g\n        const pushAssets = []\n        let m\n        while (m = regex.exec(resourceHints)) { // eslint-disable-line no-cond-assign\n          const [_, rel, href, as] = m // eslint-disable-line no-unused-vars\n          if (rel === 'preload') {\n            pushAssets.push(`<${href}>; rel=${rel}; as=${as}`)\n          }\n        }\n        // Pass with single Link header\n        // https://blog.cloudflare.com/http-2-server-push-with-multiple-assets-per-link-header\n        res.setHeader('Link', pushAssets.join(','))\n      }\n\n      // Send response\n      res.setHeader('Content-Type', 'text/html; charset=utf-8')\n      res.setHeader('Content-Length', Buffer.byteLength(html))\n      res.end(html, 'utf8')\n      return html\n    } catch (err) {\n      /* istanbul ignore if */\n      if (context && context.redirected) {\n        console.error(err) // eslint-disable-line no-console\n        return err\n      }\n\n      next(err)\n    }\n  }\n\n  errorMiddleware (err, req, res, next) {\n    // ensure statusCode, message and name fields\n    err.statusCode = err.statusCode || 500\n    err.message = err.message || 'Nuxt Server Error'\n    err.name = (!err.name || err.name === 'Error') ? 'NuxtServerError' : err.name\n\n    const sendResponse = (content, type = 'text/html') => {\n      // Set Headers\n      res.statusCode = err.statusCode\n      res.statusMessage = err.name\n      res.setHeader('Content-Type', type + '; charset=utf-8')\n      res.setHeader('Content-Length', Buffer.byteLength(content))\n\n      // Send Response\n      res.end(content, 'utf-8')\n    }\n\n    // Check if request accepts JSON\n    const hasReqHeader = (header, includes) => req.headers[header] && req.headers[header].toLowerCase().includes(includes)\n    const isJson = hasReqHeader('accept', 'application/json') || hasReqHeader('user-agent', 'curl/')\n\n    // Use basic errors when debug mode is disabled\n    if (!this.options.debug) {\n      // Json format is compatible with Youch json responses\n      const json = {\n        status: err.statusCode,\n        message: err.message,\n        name: err.name\n      }\n      if (isJson) {\n        sendResponse(JSON.stringify(json, undefined, 2), 'text/json')\n        return\n      }\n      const html = this.resources.errorTemplate(json)\n      sendResponse(html)\n      return\n    }\n\n    // Show stack trace\n    const youch = new Youch(err, req, this.readSource.bind(this))\n    if (isJson) {\n      youch.toJSON().then(json => { sendResponse(JSON.stringify(json, undefined, 2), 'text/json') })\n    } else {\n      youch.toHTML().then(html => { sendResponse(html) })\n    }\n  }\n\n  async readSource (frame) {\n    const serverBundle = this.resources.serverBundle\n\n    // Remove webpack:/// & query string from the end\n    const sanitizeName = name => name ? name.replace('webpack:///', '').split('?')[0] : ''\n\n    // SourceMap Support for SSR Bundle\n    if (serverBundle && serverBundle.maps[frame.fileName]) {\n      // Initialize smc cache\n      if (!serverBundle.$maps) {\n        serverBundle.$maps = {}\n      }\n\n      // Read SourceMap object\n      const smc = serverBundle.$maps[frame.fileName] || new SourceMapConsumer(serverBundle.maps[frame.fileName])\n      serverBundle.$maps[frame.fileName] = smc\n\n      // Try to find original position\n      const { line, column, name, source } = smc.originalPositionFor({\n        line: frame.getLineNumber() || 0,\n        column: frame.getColumnNumber() || 0\n      })\n      if (line) {\n        frame.lineNumber = line\n      }\n      if (column) {\n        frame.columnNumber = column\n      }\n      if (name) {\n        frame.functionName = name\n      }\n      if (source) {\n        frame.fileName = sanitizeName(source)\n\n        // Source detected, try to get original source code\n        const contents = smc.sourceContentFor(source)\n        if (contents) {\n          frame.contents = contents\n          return\n        }\n      }\n    }\n\n    // Return if fileName is still unknown\n    if (!frame.fileName) {\n      return\n    }\n\n    frame.fileName = sanitizeName(frame.fileName)\n\n    // Try to read from SSR bundle files\n    if (serverBundle && serverBundle.files[frame.fileName]) {\n      frame.contents = serverBundle.files[frame.fileName]\n      return\n    }\n\n    // Possible paths for file\n    const searchPath = [\n      this.options.rootDir,\n      join(this.options.buildDir, 'dist'),\n      this.options.srcDir,\n      this.options.buildDir\n    ]\n\n    // Scan filesystem\n    for (let pathDir of searchPath) {\n      let fullPath = resolve(pathDir, frame.fileName)\n      let source = await fs.readFile(fullPath, 'utf-8').catch(() => null)\n      if (source) {\n        frame.contents = source\n        return\n      }\n    }\n  }\n\n  async renderRoute (url, context = {}) {\n    /* istanbul ignore if */\n    if (!this.isReady) {\n      return new Promise(resolve => {\n        setTimeout(() => resolve(this.renderRoute(url, context)), 1000)\n      })\n    }\n\n    // Log rendered url\n    debug(`Rendering url ${url}`)\n\n    // Add url and isSever to the context\n    context.url = url\n    context.isServer = true\n\n    // Basic response if SSR is disabled or spa data provided\n    const spa = context.spa || (context.res && context.res.spa)\n    if (this.noSSR || spa) {\n      const { HTML_ATTRS, BODY_ATTRS, HEAD, resourceHints } = await this.metaRenderer.render(context)\n      const APP = `<div id=\"__nuxt\">${this.resources.loadingHTML}</div>`\n\n      // Detect 404 errors\n      if (url.includes(this.options.build.publicPath) || url.includes('__webpack')) {\n        const err = { statusCode: 404, message: this.options.messages.error_404, name: 'ResourceNotFound' }\n        throw err\n      }\n\n      const data = {\n        HTML_ATTRS,\n        BODY_ATTRS,\n        HEAD,\n        APP\n      }\n\n      const html = this.resources.spaTemplate(data)\n\n      return { html, resourceHints }\n    }\n\n    // Call renderToString from the bundleRenderer and generate the HTML (will update the context as well)\n    let APP = await this.bundleRenderer.renderToString(context)\n\n    if (!context.nuxt.serverRendered) {\n      APP = '<div id=\"__nuxt\"></div>'\n    }\n    const m = context.meta.inject()\n    let HEAD = m.meta.text() + m.title.text() + m.link.text() + m.style.text() + m.script.text() + m.noscript.text()\n    if (this.options._routerBaseSpecified) {\n      HEAD += `<base href=\"${this.options.router.base}\">`\n    }\n\n    let resourceHints = ''\n\n    if (this.options.render.resourceHints) {\n      resourceHints = context.renderResourceHints()\n      HEAD += resourceHints\n    }\n    APP += `<script type=\"text/javascript\">window.__NUXT__=${serialize(context.nuxt, { isJSON: true })};</script>`\n    APP += context.renderScripts()\n\n    HEAD += context.renderStyles()\n\n    let html = this.resources.ssrTemplate({\n      HTML_ATTRS: 'data-n-head-ssr ' + m.htmlAttrs.text(),\n      BODY_ATTRS: m.bodyAttrs.text(),\n      HEAD,\n      APP\n    })\n\n    return {\n      html,\n      resourceHints,\n      error: context.nuxt.error,\n      redirected: context.redirected\n    }\n  }\n\n  async renderAndGetWindow (url, opts = {}) {\n    /* istanbul ignore if */\n    if (!jsdom) {\n      try {\n        jsdom = require('jsdom')\n      } catch (e) /* istanbul ignore next */ {\n        console.error('Fail when calling nuxt.renderAndGetWindow(url)') // eslint-disable-line no-console\n        console.error('jsdom module is not installed') // eslint-disable-line no-console\n        console.error('Please install jsdom with: npm install --save-dev jsdom') // eslint-disable-line no-console\n        throw e\n      }\n    }\n    let options = {\n      resources: 'usable', // load subresources (https://github.com/tmpvar/jsdom#loading-subresources)\n      runScripts: 'dangerously',\n      beforeParse (window) {\n        // Mock window.scrollTo\n        window.scrollTo = () => {\n        }\n      }\n    }\n    if (opts.virtualConsole !== false) {\n      options.virtualConsole = new jsdom.VirtualConsole().sendTo(console)\n    }\n    url = url || 'http://localhost:3000'\n    const { window } = await jsdom.JSDOM.fromURL(url, options)\n    // If Nuxt could not be loaded (error from the server-side)\n    const nuxtExists = window.document.body.innerHTML.includes('window.__NUXT__')\n    /* istanbul ignore if */\n    if (!nuxtExists) {\n      let error = new Error('Could not load the nuxt app')\n      error.body = window.document.body.innerHTML\n      throw error\n    }\n    // Used by nuxt.js to say when the components are loaded and the app ready\n    await new Promise((resolve) => {\n      window._onNuxtLoaded = () => resolve(window)\n    })\n    // Send back window object\n    return window\n  }\n}\n\nconst parseTemplate = templateStr => _.template(templateStr, {\n  interpolate: /{{([\\s\\S]+?)}}/g\n})\n\nconst resourceMap = [\n  {\n    key: 'clientManifest',\n    fileName: 'vue-ssr-client-manifest.json',\n    transform: JSON.parse\n  },\n  {\n    key: 'serverBundle',\n    fileName: 'server-bundle.json',\n    transform: JSON.parse\n  },\n  {\n    key: 'ssrTemplate',\n    fileName: 'index.ssr.html',\n    transform: parseTemplate\n  },\n  {\n    key: 'spaTemplate',\n    fileName: 'index.spa.html',\n    transform: parseTemplate\n  }\n]\n\n// Protector utility against request to SSR bundle files\nconst ssrResourceRegex = new RegExp(resourceMap.map(resource => resource.fileName).join('|'), 'i')\n","import Tapable from 'tappable'\nimport chalk from 'chalk'\nimport { Options } from 'common'\nimport ModuleContainer from './module'\nimport Renderer from './renderer'\nimport Debug from 'debug'\nimport enableDestroy from 'server-destroy'\nimport Module from 'module'\nimport { join, resolve } from 'path'\n\nconst debug = Debug('nuxt:')\ndebug.color = 5\n\nexport default class Nuxt extends Tapable {\n  constructor (_options = {}) {\n    super()\n\n    this.options = Options.from(_options)\n\n    // Paths for resolving requires from `rootDir`\n    this.nodeModulePaths = Module._nodeModulePaths(this.options.rootDir)\n\n    this.initialized = false\n    this.errorHandler = this.errorHandler.bind(this)\n\n    // Create instance of core components\n    this.moduleContainer = new ModuleContainer(this)\n    this.renderer = new Renderer(this)\n\n    // Backward compatibility\n    this.render = this.renderer.app\n    this.renderRoute = this.renderer.renderRoute.bind(this.renderer)\n    this.renderAndGetWindow = this.renderer.renderAndGetWindow.bind(this.renderer)\n\n    // Default Show Open if Nuxt is not listening\n    this.showOpen = () => {}\n\n    this._ready = this.ready().catch(this.errorHandler)\n  }\n\n  async ready () {\n    if (this._ready) {\n      return this._ready\n    }\n\n    await this.moduleContainer._ready()\n    await this.applyPluginsAsync('ready')\n    await this.renderer._ready()\n\n    this.initialized = true\n    return this\n  }\n\n  listen (port = 3000, host = 'localhost') {\n    // Update showOpen\n    this.showOpen = () => {\n      const _host = host === '0.0.0.0' ? 'localhost' : host\n      // eslint-disable-next-line no-console\n      console.log('\\n' + chalk.bgGreen.black(' OPEN ') + chalk.green(` http://${_host}:${port}\\n`))\n    }\n\n    return new Promise((resolve, reject) => {\n      const server = this.renderer.app.listen({ port, host, exclusive: false }, err => {\n        /* istanbul ignore if */\n        if (err) {\n          return reject(err)\n        }\n\n        // Close server on nuxt close\n        this.plugin('close', () => new Promise((resolve, reject) => {\n          // Destroy server by forcing every connection to be closed\n          server.destroy(err => {\n            debug('server closed')\n            /* istanbul ignore if */\n            if (err) {\n              return reject(err)\n            }\n            resolve()\n          })\n        }))\n\n        resolve(this.applyPluginsAsync('listen', { server, port, host }))\n      })\n\n      // Add server.destroy(cb) method\n      enableDestroy(server)\n    })\n  }\n\n  errorHandler /* istanbul ignore next */() {\n    // Apply plugins\n    // eslint-disable-next-line no-console\n    this.applyPluginsAsync('error', ...arguments).catch(console.error)\n\n    // Silent\n    if (this.options.errorHandler === false) {\n      return\n    }\n\n    // Custom errorHandler\n    if (typeof this.options.errorHandler === 'function') {\n      return this.options.errorHandler.apply(this, arguments)\n    }\n\n    // Default handler\n    // eslint-disable-next-line no-console\n    console.error(...arguments)\n  }\n\n  resolvePath (path) {\n    // Try to resolve using NPM resolve path first\n    try {\n      let resolvedPath = Module._resolveFilename(path, { paths: this.nodeModulePaths })\n      return resolvedPath\n    } catch (e) {\n      // Just continue\n    }\n    // Shorthand to resolve from project dirs\n    if (path.indexOf('@@') === 0 || path.indexOf('~~') === 0) {\n      return join(this.options.rootDir, path.substr(2))\n    } else if (path.indexOf('@') === 0 || path.indexOf('~') === 0) {\n      return join(this.options.srcDir, path.substr(1))\n    }\n    return resolve(this.options.srcDir, path)\n  }\n\n  async close (callback) {\n    await this.applyPluginsAsync('close')\n\n    /* istanbul ignore if */\n    if (typeof callback === 'function') {\n      await callback()\n    }\n  }\n}\n","import ExtractTextPlugin from 'extract-text-webpack-plugin'\nimport { cloneDeep } from 'lodash'\nimport { join, resolve } from 'path'\nimport webpack from 'webpack'\nimport { isUrl, urlJoin } from 'utils'\n\n/*\n|--------------------------------------------------------------------------\n| Webpack Shared Config\n|\n| This is the config which is extended by the server and client\n| webpack config files\n|--------------------------------------------------------------------------\n*/\nexport default function webpackBaseConfig (name) {\n  const nodeModulesDir = join(__dirname, '..', 'node_modules')\n\n  const config = {\n    name,\n    devtool: this.options.dev ? 'cheap-module-source-map' : 'nosources-source-map',\n    entry: {\n      app: null\n    },\n    output: {\n      path: resolve(this.options.buildDir, 'dist'),\n      filename: this.options.build.filenames.app,\n      chunkFilename: this.options.build.filenames.chunk,\n      publicPath: (isUrl(this.options.build.publicPath)\n        ? this.options.build.publicPath\n        : urlJoin(this.options.router.base, this.options.build.publicPath))\n    },\n    performance: {\n      maxEntrypointSize: 1000000,\n      maxAssetSize: 300000,\n      hints: this.options.dev ? false : 'warning'\n    },\n    resolve: {\n      extensions: ['.js', '.json', '.vue', '.ts'],\n      alias: {\n        '~': join(this.options.srcDir),\n        '~~': join(this.options.rootDir),\n        '@': join(this.options.srcDir),\n        '@@': join(this.options.rootDir),\n\n        // Used by vue-loader so we can use in templates\n        // with <img src=\"~/assets/nuxt.png\" />        \n        'assets': join(this.options.srcDir, 'assets'),\n        'static': join(this.options.srcDir, 'static')\n      },\n      modules: [\n        this.options.modulesDir,\n        nodeModulesDir\n      ]\n    },\n    resolveLoader: {\n      modules: [\n        this.options.modulesDir,\n        nodeModulesDir\n      ]\n    },\n    module: {\n      noParse: /es6-promise\\.js$/, // Avoid webpack shimming process\n      rules: [\n        {\n          test: /\\.vue$/,\n          loader: 'vue-loader',\n          options: this.vueLoader()\n        },\n        {\n          test: /\\.js$/,\n          loader: 'babel-loader',\n          exclude: /node_modules/,\n          options: Object.assign({}, this.babelOptions)\n        },\n        { test: /\\.css$/, use: this.styleLoader('css') },\n        { test: /\\.less$/, use: this.styleLoader('less', 'less-loader') },\n        { test: /\\.sass$/, use: this.styleLoader('sass', {loader: 'sass-loader', options: { indentedSyntax: true }}) },\n        { test: /\\.scss$/, use: this.styleLoader('scss', 'sass-loader') },\n        { test: /\\.styl(us)?$/, use: this.styleLoader('stylus', 'stylus-loader') },\n        {\n          test: /\\.(png|jpe?g|gif|svg)$/,\n          loader: 'url-loader',\n          options: {\n            limit: 1000, // 1KO\n            name: 'img/[name].[hash:7].[ext]'\n          }\n        },\n        {\n          test: /\\.(woff2?|eot|ttf|otf)(\\?.*)?$/,\n          loader: 'url-loader',\n          options: {\n            limit: 1000, // 1 KO\n            name: 'fonts/[name].[hash:7].[ext]'\n          }\n        },\n        {\n          test: /\\.(webm|mp4)$/,\n          loader: 'file-loader',\n          options: {\n            name: 'videos/[name].[hash:7].[ext]'\n          }\n        }\n      ]\n    },\n    plugins: this.options.build.plugins\n  }\n\n  // CSS extraction\n  if (this.options.build.extractCSS) {\n    config.plugins.push(new ExtractTextPlugin({\n      filename: this.options.build.filenames.css\n    }))\n  }\n\n  // Workaround for hiding Warnings about plugins without a default export (#1179)\n  config.plugins.push({\n    apply (compiler) {\n      compiler.plugin('done', stats => {\n        stats.compilation.warnings = stats.compilation.warnings.filter(warn => {\n          if (warn.name === 'ModuleDependencyWarning' && warn.message.includes(`export 'default'`) && warn.message.includes('plugin')) {\n            return false\n          }\n          return true\n        })\n      })\n    }\n  })\n\n  // --------------------------------------\n  // Dev specific config\n  // --------------------------------------\n  if (this.options.dev) {\n    //\n  }\n\n  // --------------------------------------\n  // Production specific config\n  // --------------------------------------\n  if (!this.options.dev) {\n    // This is needed in webpack 2 for minify CSS\n    config.plugins.push(\n      new webpack.LoaderOptionsPlugin({\n        minimize: true\n      })\n    )\n  }\n\n  // Clone deep avoid leaking config between Client and Server\n  return cloneDeep(config)\n}\n","import { each } from 'lodash'\nimport webpack from 'webpack'\nimport VueSSRClientPlugin from 'vue-server-renderer/client-plugin'\nimport HTMLPlugin from 'html-webpack-plugin'\nimport FriendlyErrorsWebpackPlugin from 'friendly-errors-webpack-plugin'\nimport ProgressBarPlugin from 'progress-bar-webpack-plugin'\nimport { BundleAnalyzerPlugin } from 'webpack-bundle-analyzer'\nimport { resolve } from 'path'\nimport { existsSync } from 'fs'\nimport Debug from 'debug'\nimport base from './base.config.js'\n\nconst debug = Debug('nuxt:build')\ndebug.color = 2 // Force green color\n\n/*\n|--------------------------------------------------------------------------\n| Webpack Client Config\n|\n| Generate public/dist/client-vendor-bundle.js\n| Generate public/dist/client-bundle.js\n|\n| In production, will generate public/dist/style.css\n|--------------------------------------------------------------------------\n*/\nexport default function webpackClientConfig () {\n  let config = base.call(this, 'client')\n\n  // App entry\n  config.entry.app = resolve(this.options.buildDir, 'client.js')\n  config.entry.common = this.vendor()\n\n  // Extract vendor chunks for better caching\n  const _this = this\n  const totalPages = _this.routes ? _this.routes.length : 0\n\n  // This well-known vendor may exist as a dependency of other requests.\n  const maybeVendor = [\n    '/core-js/',\n    '/regenerator-runtime/',\n    '/es6-promise/',\n    '/babel-runtime/',\n    '/lodash/'\n  ]\n\n  config.plugins.push(\n    new webpack.optimize.CommonsChunkPlugin({\n      name: 'common',\n      filename: this.options.build.filenames.vendor,\n      minChunks (module, count) {\n        // In the dev we use on-demand-entries.\n        // So, it makes no sense to use commonChunks based on the minChunks count.\n        // Instead, we move all the code in node_modules into each of the pages.\n        if (_this.options.dev) {\n          return false\n        }\n\n        // Detect and externalize well-known vendor if detected\n        if (module.context && maybeVendor.some(v => module.context.includes(v))) {\n          return true\n        }\n\n        // A module is extracted into the vendor chunk when...\n        return (\n          // If it's inside node_modules\n          /node_modules/.test(module.context) &&\n          // Do not externalize if the request is a CSS file\n          !/\\.(css|less|scss|sass|styl|stylus)$/.test(module.request) &&\n          // Used in at-least 1/2 of the total pages\n          (totalPages <= 2 ? count >= totalPages : count >= totalPages * 0.5)\n        )\n      }\n    })\n  )\n\n  // Env object defined in nuxt.config.js\n  let env = {}\n  each(this.options.env, (value, key) => {\n    env['process.env.' + key] = (['boolean', 'number'].indexOf(typeof value) !== -1 ? value : JSON.stringify(value))\n  })\n\n  // Webpack common plugins\n  /* istanbul ignore if */\n  if (!Array.isArray(config.plugins)) {\n    config.plugins = []\n  }\n\n  // Generate output HTML for SPA\n  config.plugins.push(\n    new HTMLPlugin({\n      filename: 'index.spa.html',\n      template: this.options.appTemplatePath,\n      inject: true,\n      chunksSortMode: 'dependency'\n    })\n  )\n\n  // Generate output HTML for SSR\n  if (this.options.build.ssr) {\n    config.plugins.push(\n      new HTMLPlugin({\n        filename: 'index.ssr.html',\n        template: this.options.appTemplatePath,\n        inject: false // Resources will be injected using bundleRenderer\n      })\n    )\n  }\n\n  // Generate vue-ssr-client-manifest\n  config.plugins.push(\n    new VueSSRClientPlugin({\n      filename: 'vue-ssr-client-manifest.json'\n    })\n  )\n\n  // Extract webpack runtime & manifest\n  config.plugins.push(\n    new webpack.optimize.CommonsChunkPlugin({\n      name: 'manifest',\n      minChunks: Infinity,\n      filename: this.options.build.filenames.manifest\n    })\n  )\n\n  // Define Env\n  config.plugins.push(\n    new webpack.DefinePlugin(Object.assign(env, {\n      'process.env.NODE_ENV': JSON.stringify(env.NODE_ENV || (this.options.dev ? 'development' : 'production')),\n      'process.env.VUE_ENV': JSON.stringify('client'),\n      'process.mode': JSON.stringify(this.options.mode),\n      'process.browser': true,\n      'process.server': false,\n      'process.static': this.isStatic\n    }))\n  )\n\n  // Build progress bar\n  config.plugins.push(\n    new ProgressBarPlugin()\n  )\n\n  // --------------------------------------\n  // Dev specific config\n  // --------------------------------------\n  if (this.options.dev) {\n    // Add friendly error plugin\n    config.plugins.push(new FriendlyErrorsWebpackPlugin())\n\n    // https://webpack.js.org/plugins/named-modules-plugin\n    config.plugins.push(new webpack.NamedModulesPlugin())\n\n    // Add HMR support\n    config.entry.app = [\n      // https://github.com/glenjamin/webpack-hot-middleware#config\n      `webpack-hot-middleware/client?name=client&reload=true&timeout=3000&path=${this.options.router.base}/__webpack_hmr`.replace(/\\/\\//g, '/'),\n      config.entry.app\n    ]\n    config.plugins.push(\n      new webpack.HotModuleReplacementPlugin(),\n      new webpack.NoEmitOnErrorsPlugin()\n    )\n\n    // DllReferencePlugin\n    // https://github.com/webpack/webpack/tree/master/examples/dll-user\n    if (this.options.build.dll) {\n      const _dlls = []\n      const vendorEntries = this.vendorEntries()\n      const dllDir = resolve(this.options.cacheDir, config.name + '-dll')\n      Object.keys(vendorEntries).forEach(v => {\n        const dllManifestFile = resolve(dllDir, v + '-manifest.json')\n        if (existsSync(dllManifestFile)) {\n          _dlls.push(v)\n          config.plugins.push(\n            new webpack.DllReferencePlugin({\n              // context: this.options.rootDir,\n              manifest: dllManifestFile // Using full path to allow finding .js dll file\n            })\n          )\n        }\n      })\n      if (_dlls.length) {\n        debug('Using dll for ' + _dlls.join(','))\n      }\n    }\n  }\n\n  // --------------------------------------\n  // Production specific config\n  // --------------------------------------\n  if (!this.options.dev) {\n    // Scope Hoisting\n    config.plugins.push(\n      // new webpack.optimize.ModuleConcatenationPlugin()\n    )\n\n    // https://webpack.js.org/plugins/hashed-module-ids-plugin\n    config.plugins.push(new webpack.HashedModuleIdsPlugin())\n\n    // Minify JS\n    // https://github.com/webpack-contrib/uglifyjs-webpack-plugin\n    config.plugins.push(\n      new webpack.optimize.UglifyJsPlugin({\n        sourceMap: true,\n        extractComments: {\n          filename: 'LICENSES'\n        },\n        compress: {\n          warnings: false\n        }\n      })\n    )\n\n    // Webpack Bundle Analyzer\n    if (this.options.build.analyze) {\n      config.plugins.push(\n        new BundleAnalyzerPlugin(Object.assign({}, this.options.build.analyze))\n      )\n    }\n  }\n\n  // Extend config\n  if (typeof this.options.build.extend === 'function') {\n    const extendedConfig = this.options.build.extend.call(this, config, {\n      dev: this.options.dev,\n      isClient: true\n    })\n    // Only overwrite config when something is returned for backwards compatibility\n    if (extendedConfig !== undefined) {\n      config = extendedConfig\n    }\n  }\n\n  return config\n}\n","import webpack from 'webpack'\nimport VueSSRServerPlugin from 'vue-server-renderer/server-plugin'\nimport nodeExternals from 'webpack-node-externals'\nimport { each } from 'lodash'\nimport { resolve } from 'path'\nimport { existsSync } from 'fs'\nimport base from './base.config.js'\n\n/*\n|--------------------------------------------------------------------------\n| Webpack Server Config\n|--------------------------------------------------------------------------\n*/\nexport default function webpackServerConfig () {\n  let config = base.call(this, 'server')\n\n  // env object defined in nuxt.config.js\n  let env = {}\n  each(this.options.env, (value, key) => {\n    env['process.env.' + key] = (['boolean', 'number'].indexOf(typeof value) !== -1 ? value : JSON.stringify(value))\n  })\n\n  config = Object.assign(config, {\n    target: 'node',\n    node: false,\n    devtool: 'source-map',\n    entry: resolve(this.options.buildDir, 'server.js'),\n    output: Object.assign({}, config.output, {\n      filename: 'server-bundle.js',\n      libraryTarget: 'commonjs2'\n    }),\n    performance: {\n      hints: false,\n      maxAssetSize: Infinity\n    },\n    externals: [],\n    plugins: (config.plugins || []).concat([\n      new VueSSRServerPlugin({\n        filename: 'server-bundle.json'\n      }),\n      new webpack.DefinePlugin(Object.assign(env, {\n        'process.env.NODE_ENV': JSON.stringify(env.NODE_ENV || (this.options.dev ? 'development' : 'production')),\n        'process.env.VUE_ENV': JSON.stringify('server'),\n        'process.mode': JSON.stringify(this.options.mode),\n        'process.browser': false,\n        'process.server': true,\n        'process.static': this.isStatic\n      }))\n    ])\n  })\n\n  // https://webpack.js.org/configuration/externals/#externals\n  // https://github.com/liady/webpack-node-externals\n  const moduleDirs = [\n    this.options.modulesDir\n    // Temporary disabled due to vue-server-renderer module search limitations\n    // resolve(__dirname, '..', 'node_modules')\n  ]\n  moduleDirs.forEach(dir => {\n    if (existsSync(dir)) {\n      config.externals.push(nodeExternals({\n        // load non-javascript files with extensions, presumably via loaders\n        whitelist: [/es6-promise|\\.(?!(?:js|json)$).{1,5}$/i],\n        modulesDir: dir\n      }))\n    }\n  })\n\n  // --------------------------------------\n  // Production specific config\n  // --------------------------------------\n  if (!this.options.dev) {\n\n  }\n\n  // Extend config\n  if (typeof this.options.build.extend === 'function') {\n    const extendedConfig = this.options.build.extend.call(this, config, {\n      dev: this.options.dev,\n      isServer: true\n    })\n    // Only overwrite config when something is returned for backwards compatibility\n    if (extendedConfig !== undefined) {\n      config = extendedConfig\n    }\n  }\n\n  return config\n}\n","import webpack from 'webpack'\nimport { resolve } from 'path'\nimport ClientConfig from './client.config'\n\n/*\n|--------------------------------------------------------------------------\n| Webpack Dll Config\n| https://github.com/webpack/webpack/tree/master/examples/dll\n|--------------------------------------------------------------------------\n*/\nexport default function webpackDllConfig (_refConfig) {\n  const refConfig = _refConfig || new ClientConfig()\n\n  const name = refConfig.name + '-dll'\n  const dllDir = resolve(this.options.cacheDir, name)\n\n  let config = {\n    name,\n    entry: this.vendorEntries(),\n    // context: this.options.rootDir,\n    resolve: refConfig.resolve,\n    target: refConfig.target,\n    resolveLoader: refConfig.resolveLoader,\n    module: refConfig.module,\n    plugins: []\n  }\n\n  config.output = {\n    path: dllDir,\n    filename: '[name]_[hash].js',\n    library: '[name]_[hash]'\n  }\n\n  config.plugins.push(\n    new webpack.DllPlugin({\n      // The path to the manifest file which maps between\n      // modules included in a bundle and the internal IDs\n      // within that bundle\n      path: resolve(dllDir, '[name]-manifest.json'),\n\n      name: '[name]_[hash]'\n    })\n  )\n\n  return config\n}\n","export default function vueLoader () {\n  // https://vue-loader.vuejs.org/en\n  const config = {\n    postcss: this.options.build.postcss,\n    extractCSS: this.options.build.extractCSS,\n    cssSourceMap: this.options.build.cssSourceMap,\n    preserveWhitespace: false,\n    loaders: {\n      'js': {\n        loader: 'babel-loader',\n        options: Object.assign({}, this.babelOptions)\n      },\n      // Note: do not nest the `postcss` option under `loaders`\n      'css': this.styleLoader('css', [], true),\n      'less': this.styleLoader('less', 'less-loader', true),\n      'scss': this.styleLoader('scss', 'sass-loader', true),\n      'sass': this.styleLoader('sass', {loader: 'sass-loader', options: { indentedSyntax: true }}, true),\n      'stylus': this.styleLoader('stylus', 'stylus-loader', true),\n      'styl': this.styleLoader('stylus', 'stylus-loader', true)\n    },\n    template: {\n      doctype: 'html' // For pug, see https://github.com/vuejs/vue-loader/issues/55\n    }\n  }\n\n  // Return the config\n  return config\n}\n","import ExtractTextPlugin from 'extract-text-webpack-plugin'\nimport { join } from 'path'\n\nexport default function styleLoader (ext, loaders = [], isVueLoader = false) {\n  // Normalize loaders\n  loaders = (Array.isArray(loaders) ? loaders : [loaders]).map(loader => {\n    if (typeof loader === 'string') {\n      loader = { loader }\n    }\n    return Object.assign({\n      options: {\n        sourceMap: this.options.build.cssSourceMap\n      }\n    }, loader)\n  })\n\n  // https://github.com/postcss/postcss-loader\n  let postcssLoader\n  if (!isVueLoader && this.options.build.postcss) {\n    postcssLoader = {\n      loader: 'postcss-loader',\n      options: this.options.build.postcss\n    }\n    if (postcssLoader.options === true) {\n      postcssLoader.options = {\n        sourceMap: this.options.build.cssSourceMap\n      }\n    }\n  }\n\n  // https://github.com/webpack-contrib/css-loader\n  const cssLoader = {\n    loader: 'css-loader',\n    options: {\n      minimize: true,\n      importLoaders: 1,\n      sourceMap: this.options.build.cssSourceMap,\n      alias: {\n        '/static': join(this.options.srcDir, 'static'),\n        '/assets': join(this.options.srcDir, 'assets')\n      }\n    }\n  }\n\n  // https://github.com/vuejs/vue-style-loader\n  const vueStyleLoader = {\n    loader: 'vue-style-loader',\n    options: {\n      sourceMap: this.options.build.cssSourceMap\n    }\n  }\n\n  if (this.options.build.extractCSS && !this.options.dev) {\n    return ExtractTextPlugin.extract({\n      fallback: vueStyleLoader,\n      use: [\n        cssLoader,\n        postcssLoader,\n        ...loaders\n      ].filter(l => l)\n    })\n  }\n\n  return [\n    vueStyleLoader,\n    cssLoader,\n    postcssLoader,\n    ...loaders\n  ].filter(l => l)\n}\n","import _ from 'lodash'\nimport chokidar from 'chokidar'\nimport fs, { remove, readFile, writeFile, mkdirp, utimes, existsSync } from 'fs-extra'\nimport hash from 'hash-sum'\nimport pify from 'pify'\nimport webpack from 'webpack'\nimport serialize from 'serialize-javascript'\nimport { join, resolve, basename, dirname } from 'path'\nimport Tapable from 'tappable'\nimport MFS from 'memory-fs'\nimport webpackDevMiddleware from 'webpack-dev-middleware'\nimport webpackHotMiddleware from 'webpack-hot-middleware'\nimport { r, wp, wChunk, createRoutes, sequence, relativeTo, isPureObject } from 'utils'\nimport Debug from 'debug'\nimport Glob from 'glob'\nimport clientWebpackConfig from './webpack/client.config.js'\nimport serverWebpackConfig from './webpack/server.config.js'\nimport dllWebpackConfig from './webpack/dll.config.js'\nimport vueLoaderConfig from './webpack/vue-loader.config'\nimport styleLoader from './webpack/style-loader'\n\nconst debug = Debug('nuxt:build')\ndebug.color = 2 // Force green color\n\nconst glob = pify(Glob)\n\nexport default class Builder extends Tapable {\n  constructor (nuxt) {\n    super()\n    this.nuxt = nuxt\n    this.isStatic = false // Flag to know if the build is for a generated app\n    this.options = nuxt.options\n\n    // Fields that set on build\n    this.compiler = null\n    this.webpackDevMiddleware = null\n    this.webpackHotMiddleware = null\n\n    // Mute stats on dev\n    this.webpackStats = this.options.dev ? false : {\n      chunks: false,\n      children: false,\n      modules: false,\n      colors: true,\n      excludeAssets: [\n        /.map$/,\n        /index\\..+\\.html$/,\n        /vue-ssr-client-manifest.json/\n      ]\n    }\n\n    // Helper to resolve build paths\n    this.relativeToBuild = (...args) => relativeTo(this.options.buildDir, ...args)\n\n    // Bind styleLoader and vueLoader\n    this.styleLoader = styleLoader.bind(this)\n    this.vueLoader = vueLoaderConfig.bind(this)\n\n    this._buildStatus = STATUS.INITIAL\n  }\n\n  get plugins () {\n    return this.options.plugins.map((p, i) => {\n      if (typeof p === 'string') p = { src: p }\n      p.src = this.nuxt.resolvePath(p.src)\n      return { src: p.src, ssr: (p.ssr !== false), name: `plugin${i}` }\n    })\n  }\n\n  vendor () {\n    return [\n      'vue',\n      'vue-router',\n      'vue-meta',\n      this.options.store && 'vuex'\n    ].concat(this.options.build.vendor).filter(v => v)\n  }\n\n  vendorEntries () {\n    // Used for dll\n    const vendor = this.vendor()\n    const vendorEntries = {}\n    vendor.forEach(v => {\n      try {\n        require.resolve(v)\n        vendorEntries[v] = [ v ]\n      } catch (e) {\n        // Ignore\n      }\n    })\n    return vendorEntries\n  }\n\n  forGenerate () {\n    this.isStatic = true\n  }\n\n  async build () {\n    // Avoid calling build() method multiple times when dev:true\n    /* istanbul ignore if */\n    if (this._buildStatus === STATUS.BUILD_DONE && this.options.dev) {\n      return this\n    }\n    // If building\n    /* istanbul ignore if */\n    if (this._buildStatus === STATUS.BUILDING) {\n      return new Promise((resolve) => {\n        setTimeout(() => {\n          resolve(this.build())\n        }, 1000)\n      })\n    }\n    this._buildStatus = STATUS.BUILDING\n\n    // Wait for nuxt ready\n    await this.nuxt.ready()\n\n    // Wait for build plugins\n    await this.nuxt.applyPluginsAsync('build', this)\n\n    // Babel options\n    this.babelOptions = _.defaults(this.options.build.babel, {\n      babelrc: false,\n      cacheDirectory: !!this.options.dev\n    })\n    if (!this.babelOptions.babelrc && !this.babelOptions.presets) {\n      this.babelOptions.presets = [\n        require.resolve('babel-preset-vue-app')\n      ]\n    }\n\n    // Map postcss plugins into instances on object mode once\n    if (isPureObject(this.options.build.postcss)) {\n      if (isPureObject(this.options.build.postcss.plugins)) {\n        this.options.build.postcss.plugins = Object.keys(this.options.build.postcss.plugins)\n          .map(p => {\n            const plugin = require(p)\n            const opts = this.options.build.postcss.plugins[p]\n            if (opts === false) return // Disabled\n            const instance = plugin(opts)\n            return instance\n          }).filter(e => e)\n      }\n    }\n\n    // Check if pages dir exists and warn if not\n    this._nuxtPages = typeof this.options.build.createRoutes !== 'function'\n    if (this._nuxtPages) {\n      if (!fs.existsSync(join(this.options.srcDir, 'pages'))) {\n        let dir = this.options.srcDir\n        if (fs.existsSync(join(this.options.srcDir, '..', 'pages'))) {\n          throw new Error(`No \\`pages\\` directory found in ${dir}. Did you mean to run \\`nuxt\\` in the parent (\\`../\\`) directory?`)\n        } else {\n          throw new Error(`Couldn't find a \\`pages\\` directory in ${dir}. Please create one under the project root`)\n        }\n      }\n    }\n\n    debug(`App root: ${this.options.srcDir}`)\n    debug(`Generating ${this.options.buildDir} files...`)\n\n    // Create .nuxt/, .nuxt/components and .nuxt/dist folders\n    await remove(r(this.options.buildDir))\n    await mkdirp(r(this.options.buildDir, 'components'))\n    if (!this.options.dev) {\n      await mkdirp(r(this.options.buildDir, 'dist'))\n    }\n\n    // Generate routes and interpret the template files\n    await this.generateRoutesAndFiles()\n\n    // Start webpack build\n    await this.webpackBuild()\n\n    await this.applyPluginsAsync('built', this)\n\n    // Flag to set that building is done\n    this._buildStatus = STATUS.BUILD_DONE\n\n    return this\n  }\n\n  async generateRoutesAndFiles () {\n    debug('Generating files...')\n    // -- Templates --\n    let templatesFiles = [\n      'App.vue',\n      'client.js',\n      'index.js',\n      'middleware.js',\n      'router.js',\n      'server.js',\n      'utils.js',\n      'empty.js',\n      'components/nuxt-error.vue',\n      'components/nuxt-loading.vue',\n      'components/nuxt-child.js',\n      'components/nuxt-link.js',\n      'components/nuxt.vue',\n      'components/no-ssr.js',\n      'views/app.template.html',\n      'views/error.html'\n    ]\n    const templateVars = {\n      options: this.options,\n      messages: this.options.messages,\n      uniqBy: _.uniqBy,\n      isDev: this.options.dev,\n      debug: this.options.debug,\n      mode: this.options.mode,\n      router: this.options.router,\n      env: this.options.env,\n      head: this.options.head,\n      middleware: fs.existsSync(join(this.options.srcDir, 'middleware')),\n      store: this.options.store,\n      css: this.options.css,\n      plugins: this.plugins,\n      appPath: './App.vue',\n      layouts: Object.assign({}, this.options.layouts),\n      loading: typeof this.options.loading === 'string' ? this.relativeToBuild(this.options.srcDir, this.options.loading) : this.options.loading,\n      transition: this.options.transition,\n      components: {\n        ErrorPage: this.options.ErrorPage ? this.relativeToBuild(this.options.ErrorPage) : null\n      }\n    }\n\n    // -- Layouts --\n    if (fs.existsSync(resolve(this.options.srcDir, 'layouts'))) {\n      const layoutsFiles = await glob('layouts/*.vue', { cwd: this.options.srcDir })\n      let hasErrorLayout = false\n      layoutsFiles.forEach((file) => {\n        let name = file.split('/').slice(-1)[0].replace(/\\.vue$/, '')\n        if (name === 'error') {\n          hasErrorLayout = true\n          return\n        }\n        templateVars.layouts[name] = this.relativeToBuild(this.options.srcDir, file)\n      })\n      if (!templateVars.components.ErrorPage && hasErrorLayout) {\n        templateVars.components.ErrorPage = this.relativeToBuild(this.options.srcDir, 'layouts/error.vue')\n      }\n    }\n    // If no default layout, create its folder and add the default folder\n    if (!templateVars.layouts.default) {\n      await mkdirp(r(this.options.buildDir, 'layouts'))\n      templatesFiles.push('layouts/default.vue')\n      templateVars.layouts.default = './layouts/default.vue'\n    }\n\n    // -- Routes --\n    debug('Generating routes...')\n    // If user defined a custom method to create routes\n    if (this._nuxtPages) {\n      // Use nuxt.js createRoutes bases on pages/\n      const files = await glob('pages/**/*.vue', { cwd: this.options.srcDir })\n      templateVars.router.routes = createRoutes(files, this.options.srcDir)\n    } else {\n      templateVars.router.routes = this.options.build.createRoutes(this.options.srcDir)\n    }\n\n    await this.applyPluginsAsync('extendRoutes', { routes: templateVars.router.routes, templateVars, r })\n\n    // router.extendRoutes method\n    if (typeof this.options.router.extendRoutes === 'function') {\n      // let the user extend the routes\n      const extendedRoutes = this.options.router.extendRoutes(templateVars.router.routes, r)\n      // Only overwrite routes when something is returned for backwards compatibility\n      if (extendedRoutes !== undefined) {\n        templateVars.router.routes = extendedRoutes\n      }\n    }\n\n    // Make routes accessible for other modules and webpack configs\n    this.routes = templateVars.router.routes\n\n    // -- Store --\n    // Add store if needed\n    if (this.options.store) {\n      templatesFiles.push('store.js')\n    }\n\n    // Resolve template files\n    const customTemplateFiles = this.options.build.templates.map(t => t.dst || basename(t.src || t))\n\n    templatesFiles = templatesFiles.map(file => {\n      // Skip if custom file was already provided in build.templates[]\n      if (customTemplateFiles.indexOf(file) !== -1) {\n        return\n      }\n      // Allow override templates using a file with same name in ${srcDir}/app\n      const customPath = r(this.options.srcDir, 'app', file)\n      const customFileExists = fs.existsSync(customPath)\n\n      return {\n        src: customFileExists\n          ? customPath\n          : r(this.options.nuxtAppDir, file),\n        dst: file,\n        custom: customFileExists\n      }\n    }).filter(i => !!i)\n\n    // -- Custom templates --\n    // Add custom template files\n    templatesFiles = templatesFiles.concat(this.options.build.templates.map(t => {\n      return Object.assign({\n        src: r(this.options.srcDir, t.src || t),\n        dst: t.dst || basename(t.src || t),\n        custom: true\n      }, t)\n    }))\n\n    // -- Loading indicator --\n    if (this.options.loadingIndicator.name) {\n      const indicatorPath1 = resolve(this.options.nuxtAppDir, 'views/loading', this.options.loadingIndicator.name + '.html')\n      const indicatorPath2 = this.nuxt.resolvePath(this.options.loadingIndicator.name)\n      const indicatorPath = existsSync(indicatorPath1) ? indicatorPath1 : (existsSync(indicatorPath2) ? indicatorPath2 : null)\n      if (indicatorPath) {\n        templatesFiles.push({\n          src: indicatorPath,\n          dst: 'loading.html',\n          options: this.options.loadingIndicator\n        })\n      } else {\n        console.error(`Could not fetch loading indicator: ${this.options.loadingIndicator.name}`) // eslint-disable-line no-console\n      }\n    }\n\n    await this.applyPluginsAsync('generate', { builder: this, templatesFiles, templateVars })\n\n    // Interpret and move template files to .nuxt/\n    await Promise.all(templatesFiles.map(async ({ src, dst, options, custom }) => {\n      // Add template to watchers\n      this.options.build.watch.push(src)\n      // Render template to dst\n      const fileContent = await readFile(src, 'utf8')\n      const template = _.template(fileContent, {\n        imports: {\n          serialize,\n          hash,\n          r,\n          wp,\n          wChunk,\n          resolvePath: this.nuxt.resolvePath.bind(this.nuxt),\n          relativeToBuild: this.relativeToBuild\n        }\n      })\n      const content = template(Object.assign({}, templateVars, {\n        options: options || {},\n        custom,\n        src,\n        dst\n      }))\n      const path = r(this.options.buildDir, dst)\n      // Ensure parent dir exits\n      await mkdirp(dirname(path))\n      // Write file\n      await writeFile(path, content, 'utf8')\n      // Fix webpack loop (https://github.com/webpack/watchpack/issues/25#issuecomment-287789288)\n      const dateFS = Date.now() / 1000 - 1000\n      return utimes(path, dateFS, dateFS)\n    }))\n\n    await this.applyPluginsAsync('generated', this)\n  }\n\n  async webpackBuild () {\n    debug('Building files...')\n    const compilersOptions = []\n\n    // Client\n    const clientConfig = clientWebpackConfig.call(this)\n    compilersOptions.push(clientConfig)\n\n    // Server\n    let serverConfig = null\n    if (this.options.build.ssr) {\n      serverConfig = serverWebpackConfig.call(this)\n      compilersOptions.push(serverConfig)\n    }\n\n    // Alias plugins to their real path\n    this.plugins.forEach(p => {\n      const src = this.relativeToBuild(p.src)\n\n      // Client config\n      if (!clientConfig.resolve.alias[p.name]) {\n        clientConfig.resolve.alias[p.name] = src\n      }\n\n      // Server config\n      if (serverConfig && !serverConfig.resolve.alias[p.name]) {\n        // Alias to noop for ssr:false plugins\n        serverConfig.resolve.alias[p.name] = p.ssr ? src : './empty.js'\n      }\n    })\n\n    // Make a dll plugin after compile to make next dev builds faster\n    if (this.options.build.dll && this.options.dev) {\n      compilersOptions.push(dllWebpackConfig.call(this, clientConfig))\n    }\n\n    // Simulate webpack multi compiler interface\n    // Separate compilers are simpler, safer and faster\n    this.compiler = { compilers: [] }\n    this.compiler.plugin = (...args) => {\n      this.compiler.compilers.forEach(compiler => {\n        compiler.plugin(...args)\n      })\n    }\n\n    // Initialize shared FS and Cache\n    const sharedFS = this.options.dev && new MFS()\n    const sharedCache = {}\n\n    // Initialize compilers\n    compilersOptions.forEach(compilersOption => {\n      const compiler = webpack(compilersOption)\n      if (sharedFS && !compiler.name.includes('-dll')) {\n        compiler.outputFileSystem = sharedFS\n      }\n      compiler.cache = sharedCache\n      this.compiler.compilers.push(compiler)\n    })\n\n    // Access to compilers with name\n    this.compiler.compilers.forEach(compiler => {\n      if (compiler.name) {\n        this.compiler[compiler.name] = compiler\n      }\n    })\n\n    // Run after each compile\n    this.compiler.plugin('done', async stats => {\n      // Don't reload failed builds\n      /* istanbul ignore if */\n      if (stats.hasErrors()) {\n        return\n      }\n\n      // console.log(stats.toString({ chunks: true }))\n\n      // Reload renderer if available\n      if (this.nuxt.renderer) {\n        this.nuxt.renderer.loadResources(sharedFS || fs)\n      }\n\n      await this.applyPluginsAsync('done', { builder: this, stats })\n    })\n\n    // Add dev Stuff\n    if (this.options.dev) {\n      this.webpackDev()\n    }\n\n    await this.applyPluginsAsync('compile', { builder: this, compiler: this.compiler })\n\n    // Start Builds\n    await sequence(this.compiler.compilers, compiler => new Promise((resolve, reject) => {\n      if (this.options.dev) {\n        // --- Dev Build ---\n        if (compiler.options.name === 'client') {\n          // Client watch is started by dev-middleware\n          resolve()\n        } else if (compiler.options.name.includes('-dll')) {\n          // DLL builds should run once\n          compiler.run((err, stats) => {\n            if (err) {\n              return reject(err)\n            }\n            debug('[DLL] updated')\n            resolve()\n          })\n        } else {\n          // Build and watch for changes\n          compiler.watch(this.options.watchers.webpack, (err) => {\n            /* istanbul ignore if */\n            if (err) {\n              return reject(err)\n            }\n            resolve()\n          })\n        }\n      } else {\n        // --- Production Build ---\n        compiler.run((err, stats) => {\n          /* istanbul ignore if */\n          if (err) {\n            return reject(err)\n          }\n          if (err) return console.error(err) // eslint-disable-line no-console\n\n          // Show build stats for production\n          console.log(stats.toString(this.webpackStats)) // eslint-disable-line no-console\n\n          /* istanbul ignore if */\n          if (stats.hasErrors()) {\n            return reject(new Error('Webpack build exited with errors'))\n          }\n          resolve()\n        })\n      }\n    }))\n\n    await this.applyPluginsAsync('compiled', this)\n  }\n\n  webpackDev () {\n    debug('Adding webpack middleware...')\n\n    // Create webpack dev middleware\n    this.webpackDevMiddleware = pify(webpackDevMiddleware(this.compiler.client, Object.assign({\n      publicPath: this.options.build.publicPath,\n      stats: this.webpackStats,\n      noInfo: true,\n      quiet: true,\n      watchOptions: this.options.watchers.webpack\n    }, this.options.build.devMiddleware)))\n\n    this.webpackHotMiddleware = pify(webpackHotMiddleware(this.compiler.client, Object.assign({\n      log: false,\n      heartbeat: 1000\n    }, this.options.build.hotMiddleware)))\n\n    // Inject to renderer instance\n    if (this.nuxt.renderer) {\n      this.nuxt.renderer.webpackDevMiddleware = this.webpackDevMiddleware\n      this.nuxt.renderer.webpackHotMiddleware = this.webpackHotMiddleware\n    }\n\n    // Stop webpack middleware on nuxt.close()\n    this.nuxt.plugin('close', () => new Promise(resolve => {\n      this.webpackDevMiddleware.close(() => resolve())\n    }))\n\n    // Start watching files\n    this.watchFiles()\n  }\n\n  watchFiles () {\n    const patterns = [\n      r(this.options.srcDir, 'layouts'),\n      r(this.options.srcDir, 'store'),\n      r(this.options.srcDir, 'middleware'),\n      r(this.options.srcDir, 'layouts/*.vue'),\n      r(this.options.srcDir, 'layouts/**/*.vue')\n    ]\n    if (this._nuxtPages) {\n      patterns.push(r(this.options.srcDir, 'pages'))\n      patterns.push(r(this.options.srcDir, 'pages/*.vue'))\n      patterns.push(r(this.options.srcDir, 'pages/**/*.vue'))\n    }\n    const options = Object.assign({}, this.options.watchers.chokidar, {\n      ignoreInitial: true\n    })\n    /* istanbul ignore next */\n    const refreshFiles = _.debounce(() => this.generateRoutesAndFiles(), 200)\n\n    // Watch for src Files\n    let filesWatcher = chokidar.watch(patterns, options)\n      .on('add', refreshFiles)\n      .on('unlink', refreshFiles)\n\n    // Watch for custom provided files\n    let customFilesWatcher = chokidar.watch(_.uniq(this.options.build.watch), options)\n      .on('change', refreshFiles)\n\n    // Stop watching on nuxt.close()\n    this.nuxt.plugin('close', () => {\n      filesWatcher.close()\n      customFilesWatcher.close()\n    })\n  }\n}\n\nconst STATUS = {\n  INITIAL: 1,\n  BUILD_DONE: 2,\n  BUILDING: 3\n}\n","import { copy, remove, writeFile, mkdirp, removeSync, existsSync } from 'fs-extra'\nimport _ from 'lodash'\nimport { resolve, join, dirname, sep } from 'path'\nimport { minify } from 'html-minifier'\nimport Tapable from 'tappable'\nimport { isUrl, promisifyRoute, waitFor, flatRoutes } from 'utils'\nimport Debug from 'debug'\n\nconst debug = Debug('nuxt:generate')\n\nexport default class Generator extends Tapable {\n  constructor (nuxt, builder) {\n    super()\n    this.nuxt = nuxt\n    this.options = nuxt.options\n    this.builder = builder\n\n    // Set variables\n    this.generateRoutes = resolve(this.options.srcDir, 'static')\n    this.srcBuiltPath = resolve(this.options.buildDir, 'dist')\n    this.distPath = resolve(this.options.rootDir, this.options.generate.dir)\n    this.distNuxtPath = join(this.distPath, (isUrl(this.options.build.publicPath) ? '' : this.options.build.publicPath))\n  }\n\n  async generate ({ build = true, init = true } = {}) {\n    const s = Date.now()\n    let errors = []\n\n    // Add flag to set process.static\n    this.builder.forGenerate()\n\n    // Wait for nuxt be ready\n    await this.nuxt.ready()\n\n    // Start build process\n    if (build) {\n      await this.builder.build()\n    }\n\n    await this.nuxt.applyPluginsAsync('generator', this)\n\n    // Initialize dist directory\n    if (init) {\n      await this.initDist()\n    }\n\n    // Resolve config.generate.routes promises before generating the routes\n    let generateRoutes = []\n    if (this.options.router.mode !== 'hash') {\n      try {\n        console.log('Generating routes') // eslint-disable-line no-console\n        generateRoutes = await promisifyRoute(this.options.generate.routes || [])\n        await this.applyPluginsAsync('generateRoutes', { generator: this, generateRoutes })\n      } catch (e) {\n        console.error('Could not resolve routes') // eslint-disable-line no-console\n        console.error(e) // eslint-disable-line no-console\n        throw e // eslint-disable-line no-unreachable\n      }\n    }\n\n    // Generate only index.html for router.mode = 'hash'\n    let routes = (this.options.router.mode === 'hash') ? ['/'] : flatRoutes(this.options.router.routes)\n    routes = this.decorateWithPayloads(routes, generateRoutes)\n\n    await this.applyPluginsAsync('generate', { generator: this, routes })\n\n    // Start generate process\n    while (routes.length) {\n      let n = 0\n      await Promise.all(routes.splice(0, this.options.generate.concurrency).map(async ({ route, payload }) => {\n        await waitFor(n++ * this.options.generate.interval)\n        await this.generateRoute({ route, payload, errors })\n      }))\n    }\n\n    // Copy /index.html to /200.html for surge SPA\n    // https://surge.sh/help/adding-a-200-page-for-client-side-routing\n    const _200Path = join(this.distPath, '200.html')\n    if (!existsSync(_200Path)) {\n      await copy(join(this.distPath, 'index.html'), _200Path)\n    }\n\n    const duration = Math.round((Date.now() - s) / 100) / 10\n    debug(`HTML Files generated in ${duration}s`)\n\n    if (errors.length) {\n      const report = errors.map(({ type, route, error }) => {\n        /* istanbul ignore if */\n        if (type === 'unhandled') {\n          return `Route: '${route}'\\n${error.stack}`\n        } else {\n          return `Route: '${route}' thrown an error: \\n` + JSON.stringify(error)\n        }\n      })\n      console.error('==== Error report ==== \\n' + report.join('\\n\\n')) // eslint-disable-line no-console\n    }\n\n    await this.applyPluginsAsync('generated', this)\n\n    return { duration, errors }\n  }\n\n  async initDist () {\n    // Clean destination folder\n    await remove(this.distPath)\n    debug('Destination folder cleaned')\n\n    // Copy static and built files\n    /* istanbul ignore if */\n    if (existsSync(this.generateRoutes)) {\n      await copy(this.generateRoutes, this.distPath)\n    }\n    await copy(this.srcBuiltPath, this.distNuxtPath)\n\n    // Add .nojekyll file to let Github Pages add the _nuxt/ folder\n    // https://help.github.com/articles/files-that-start-with-an-underscore-are-missing/\n    const nojekyllPath = resolve(this.distPath, '.nojekyll')\n    writeFile(nojekyllPath, '')\n\n    // Cleanup SSR related files\n    const extraFiles = [\n      'index.spa.html',\n      'index.ssr.html',\n      'server-bundle.json',\n      'vue-ssr-client-manifest.json'\n    ].map(file => resolve(this.distNuxtPath, file))\n\n    extraFiles.forEach(file => {\n      if (existsSync(file)) {\n        removeSync(file)\n      }\n    })\n\n    debug('Static & build files copied')\n  }\n\n  decorateWithPayloads (routes, generateRoutes) {\n    let routeMap = {}\n    // Fill routeMap for known routes\n    routes.forEach((route) => {\n      routeMap[route] = {\n        route,\n        payload: null\n      }\n    })\n    // Fill routeMap with given generate.routes\n    generateRoutes.forEach((route) => {\n      // route is either a string or like {route : \"/my_route/1\"}\n      const path = _.isString(route) ? route : route.route\n      routeMap[path] = {\n        route: path,\n        payload: route.payload || null\n      }\n    })\n    return _.values(routeMap)\n  }\n\n  async generateRoute ({ route, payload = {}, errors = [] }) {\n    let html\n\n    try {\n      const res = await this.nuxt.renderer.renderRoute(route, { _generate: true, payload })\n      html = res.html\n      if (res.error) {\n        errors.push({ type: 'handled', route, error: res.error })\n      }\n    } catch (err) {\n      /* istanbul ignore next */\n      return errors.push({ type: 'unhandled', route, error: err })\n    }\n\n    if (this.options.generate.minify) {\n      try {\n        html = minify(html, this.options.generate.minify)\n      } catch (err) /* istanbul ignore next */ {\n        const minifyErr = new Error(`HTML minification failed. Make sure the route generates valid HTML. Failed HTML:\\n ${html}`)\n        errors.push({ type: 'unhandled', route, error: minifyErr })\n      }\n    }\n\n    let path = join(route, sep, 'index.html') // /about -> /about/index.html\n    path = (path === '/404/index.html') ? '/404.html' : path // /404 -> /404.html\n    debug('Generate file: ' + path)\n    path = join(this.distPath, path)\n\n    // Make sure the sub folders are created\n    await mkdirp(dirname(path))\n    await writeFile(path, html, 'utf8')\n\n    return true\n  }\n}\n","import * as core from './core'\nimport * as builder from './builder'\n\nexport default Object.assign({}, core, builder)\n"],"names":["resolve","require$$0","encodeHtml","str","replace","getContext","req","res","setAnsiColors","ansiHTML","setColors","ms","Promise","waitFor","urlJoin","slice","call","arguments","join","isUrl","url","indexOf","promisifyRoute","fn","Array","isArray","length","reject","err","routeParams","promise","then","sequence","tasks","reduce","task","parallel","all","map","chainFn","base","Function","apply","baseResult","undefined","fnResult","prototype","isPureObject","o","isWindows","test","process","platform","wp","p","wChunk","reqSep","sysSep","_","escapeRegExp","sep","normalize","string","r","args","lastArg","last","includes","relativeTo","dir","shift","path","rp","relative","flatRoutes","router","routes","forEach","children","push","cleanChildrenRoutes","isChild","start","routesIndex","route","name","split","s","names","paths","i","a","find","child","createRoutes","files","srcDir","file","keys","component","parent","key","chunkName","sort","b","y","z","_a","_b","Options","from","_options","options","Object","assign","loading","middleware","_routerBaseSpecified","transition","defaultsDeep","defaults","hasValue","v","rootDir","cwd","modulesDir","buildDir","cacheDir","appTemplatePath","existsSync","dev","build","publicPath","store","loadingIndicator","cssSourceMap","postcss","postcssConfigExists","plugins","debug","modePreset","modes","mode","render","ssr","appear","env","NODE_ENV","__dirname","Debug","ModuleContainer","nuxt","requiredModules","modules","addModule","bind","applyPluginsAsync","vendor","uniq","concat","template","src","srcPath","parse","fs","dst","fileName","basename","hash","ext","templateObj","templates","addTemplate","unshift","serverMiddleware","extend","extendRoutes","moduleOpts","requireOnce","originalSrc","module","require","resolvePath","Error","JSON","stringify","meta","alreadyRequired","result","Tapable","MetaRenderer","renderer","vueRenderer","VueServerRenderer","createRenderer","cache","LRU","use","VueMeta","vm","Vue","h","head","renderToString","$meta","inject","get","getMeta","HTML_ATTRS","m","htmlAttrs","text","BODY_ATTRS","bodyAttrs","HEAD","title","link","style","script","noscript","resourceHints","resources","clientManifest","initial","async","set","color","jsdom","Renderer","bundleRenderer","metaRenderer","webpackDevMiddleware","webpackHotMiddleware","app","connect","parseTemplate","setupMiddleware","loadResources","_fs","transform","rawKey","distPath","rawData","data","readFileSync","errorTemplatePath","errorTemplate","loadingHTMLPath","loadingHTML","updated","isResourcesAvailable","showOpen","noSSR","createBundleRenderer","serverBundle","pify","$m","handler","prefix","$src","gzip","useMiddleware","compression","next","ssrResourceRegex","statusCode","end","serveStatic","static","distDir","nuxtMiddleware","errorMiddleware","renderRoute","context","html","error","redirected","etag","generateETag","fresh","headers","setHeader","http2","regex","exec","rel","href","as","pushAssets","Buffer","byteLength","message","sendResponse","content","type","statusMessage","hasReqHeader","header","toLowerCase","isJson","json","youch","Youch","readSource","toJSON","toHTML","frame","sanitizeName","maps","$maps","SourceMapConsumer","smc","originalPositionFor","getLineNumber","getColumnNumber","line","column","source","lineNumber","columnNumber","functionName","sourceContentFor","contents","searchPath","pathDir","readFile","fullPath","catch","isReady","isServer","spa","messages","error_404","spaTemplate","serverRendered","renderResourceHints","serialize","isJSON","renderScripts","renderStyles","ssrTemplate","opts","window","scrollTo","virtualConsole","VirtualConsole","sendTo","console","JSDOM","fromURL","document","body","innerHTML","nuxtExists","_onNuxtLoaded","Boolean","templateStr","resourceMap","RegExp","resource","Nuxt","nodeModulePaths","Module","_nodeModulePaths","initialized","errorHandler","moduleContainer","renderAndGetWindow","_ready","ready","port","host","_host","log","chalk","bgGreen","black","green","server","listen","exclusive","plugin","destroy","resolvedPath","_resolveFilename","e","substr","callback","webpackBaseConfig","nodeModulesDir","config","filenames","chunk","vueLoader","babelOptions","styleLoader","loader","indentedSyntax","extractCSS","ExtractTextPlugin","css","compiler","compilation","warnings","stats","filter","warn","webpack","LoaderOptionsPlugin","cloneDeep","webpackClientConfig","entry","common","_this","totalPages","maybeVendor","optimize","CommonsChunkPlugin","count","some","request","value","HTMLPlugin","VueSSRClientPlugin","Infinity","manifest","DefinePlugin","isStatic","ProgressBarPlugin","FriendlyErrorsWebpackPlugin","NamedModulesPlugin","HotModuleReplacementPlugin","NoEmitOnErrorsPlugin","dll","_dlls","vendorEntries","dllDir","dllManifestFile","DllReferencePlugin","HashedModuleIdsPlugin","UglifyJsPlugin","analyze","BundleAnalyzerPlugin","extendedConfig","webpackServerConfig","output","VueSSRServerPlugin","moduleDirs","externals","nodeExternals","webpackDllConfig","_refConfig","refConfig","ClientConfig","target","resolveLoader","DllPlugin","loaders","isVueLoader","postcssLoader","cssLoader","vueStyleLoader","extract","l","glob","Glob","Builder","webpackStats","relativeToBuild","vueLoaderConfig","_buildStatus","STATUS","INITIAL","BUILD_DONE","BUILDING","babel","babelrc","presets","instance","_nuxtPages","remove","mkdirp","generateRoutesAndFiles","webpackBuild","uniqBy","layouts","ErrorPage","templateVars","components","hasErrorLayout","default","extendedRoutes","t","templatesFiles","customTemplateFiles","customPath","customFileExists","nuxtAppDir","indicatorPath1","indicatorPath2","indicatorPath","builder","custom","watch","fileContent","dirname","writeFile","Date","now","utimes","dateFS","clientWebpackConfig","clientConfig","serverWebpackConfig","serverConfig","alias","dllWebpackConfig","compilers","MFS","compilersOption","sharedFS","outputFileSystem","sharedCache","hasErrors","webpackDev","run","watchers","toString","client","devMiddleware","hotMiddleware","close","watchFiles","patterns","chokidar","refreshFiles","debounce","filesWatcher","on","customFilesWatcher","Generator","generateRoutes","srcBuiltPath","generate","distNuxtPath","init","forGenerate","initDist","generator","decorateWithPayloads","splice","concurrency","payload","n","interval","generateRoute","errors","_200Path","copy","Math","round","duration","stack","report","nojekyllPath","routeMap","isString","values","_generate","minify","minifyErr","core"],"mappings":"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"}